<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200&display=swap" rel="stylesheet">
    <title>Roll</title>
</head>

<body>
    <div class="container">
        <header class="logo">
            <img src="img/logo.png" alt="logo">
        </header>
        <div class="main">
            <h3 class="text" id="textnone">Ajoutez plusieurs éléments à tirer au sort, vous pourrez ensuite les inclures
                ou vous voulez </h3>

            <div class="search">
                <input type="text" class="searchbar" id="search" placeholder="Ajouter un élément">
                <button id="add" onclick="randomForm()">+</button>
            </div>

            <p id="deleteall" onclick="deleteAll()"><u>Supprimer tout</u></p>

            <div id="tirage">

                <script>

                    var h = 1;

                    function randomForm() {
                        var search = document.getElementById("search").value;
                        var div = document.getElementById("tirage").innerHTML += "<div class='value'>" + "<div class='withoutx' >" + "<p class='tontext'>" + search + "</div>" + "<span class='delete' onclick=deleteForm()>" + "X" + "<span>" + "</p>" + "</div>";
                        document.getElementById("deleteall").style.display = "block";
                        document.getElementById("search").value = "";

                        if (search == "") {
                            alert("Veuillez entrer un élément");
                            document.getElementById("tirage").innerHTML = "";
                            document.getElementById("deleteall").style.display = "none";
                        }
                        document.body.appendChild(div);

                    }

                    function draw() {

                        document.getElementById("random").style.display = "none";
                        document.getElementById("search").style.display = "none";
                        document.getElementById("textnone").style.display = "none";
                        document.getElementById("deleteall").style.display = "none";
                        document.getElementById("add").style.display = "none";

                        if (document.getElementsByClassName("value").length < 2) {
                            alert("Il faut au moins 2 éléments pour tirer au sort, veuillez recommencer");
                            document.getElementById("random").style.display = "block";
                            document.getElementById("search").style.display = "block";
                            document.getElementById("textnone").style.display = "block";
                            document.getElementById("add").style.display = "block";
                            document.getElementById("tirage").innerHTML = "";
                            document.getElementsByClassName("hide").style.display = "none"
                        }

                        var random = document.getElementsByClassName("withoutx");
                        var random = random[Math.floor(Math.random() * random.length)];
                        var random = random.innerHTML;
                        var random = document.getElementById("tirage").innerHTML = "<div class='contain'>" + "<div class='result'>" + random + "</div>" + "<div id='idback' class='hide'>" + "<button class = 'back' onclick= back()>" + "Retour" + "</button>"  + "</div>" + "</div>";
                        document.body.appendChild(random);
                        document.body.appendChild(back);

                    }

                    function deleteAll() {
                        document.getElementById("tirage").innerHTML = "";
                        document.getElementById("deleteall").style.display = "none";

                    }

                    function deleteForm() {
                        var div = document.getElementById("tirage");
                        div.removeChild(div.lastChild);
                        if (div.childElementCount == 0) {
                            document.getElementById("deleteall").style.display = "none";
                        }
                    }

                    function enleve(){

                    }

                    function back() {
                        document.getElementById("random").style.display = "block";
                        document.getElementById("search").style.display = "block";
                        document.getElementById("textnone").style.display = "block";
                        document.getElementById("add").style.display = "block";
                        document.getElementById("idback").style.display = "none";
                        document.getElementById("tirage").innerHTML = "";
                    }

                    function reload() {



                    }

                    function board() {

                    }
                </script>
            </div>

            <div class="random">
                <button id="random" onclick="draw()">Tirer au sort</button>
            </div>

            <footer class="footer">
                <p>© 2021 - Tous droits réservés</p>
            </footer>
        </div>


        <script src="js/script.js"></script>
</body>

</html>